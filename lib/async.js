'use strict';

function whilst(callback, done, context) {
  var index = -1;

  function next() {
    index++;

    var terminate = callback(next, done, context, index);

    if (terminate) {
      done();
    }
  }

  next();
}

function forEach(array, callback, done, context) {
  var arrayLength = array.length;

  var index = -1;

  function next() {
    index++;

    var terminate = index === arrayLength;

    if (terminate) {
      done();
    } else {
      var element = array[index];

      callback(element, next, done, context, index);
    }
  }

  next();
}

function sequence(callbacks, done, context) {
  var callbacksLength = callbacks.length;

  var index = -1;

  function next() {
    index++;

    var terminate = index === callbacksLength;

    if (terminate) {
      done();
    } else {
      var callback = callbacks[index];

      callback(next, done, context, index);
    }
  }

  next();
}

module.exports = {
  whilst: whilst,
  forEach: forEach,
  sequence: sequence
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9hc3luYy5qcyJdLCJuYW1lcyI6WyJ3aGlsc3QiLCJjYWxsYmFjayIsImRvbmUiLCJjb250ZXh0IiwiaW5kZXgiLCJuZXh0IiwidGVybWluYXRlIiwiZm9yRWFjaCIsImFycmF5IiwiYXJyYXlMZW5ndGgiLCJsZW5ndGgiLCJlbGVtZW50Iiwic2VxdWVuY2UiLCJjYWxsYmFja3MiLCJjYWxsYmFja3NMZW5ndGgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxTQUFTQSxNQUFULENBQWdCQyxRQUFoQixFQUEwQkMsSUFBMUIsRUFBZ0NDLE9BQWhDLEVBQXlDO0FBQ3ZDLE1BQUlDLFFBQVEsQ0FBQyxDQUFiOztBQUVBLFdBQVNDLElBQVQsR0FBZ0I7QUFDZEQ7O0FBRUEsUUFBTUUsWUFBWUwsU0FBU0ksSUFBVCxFQUFlSCxJQUFmLEVBQXFCQyxPQUFyQixFQUE4QkMsS0FBOUIsQ0FBbEI7O0FBRUEsUUFBSUUsU0FBSixFQUFlO0FBQ2JKO0FBQ0Q7QUFDRjs7QUFFREc7QUFDRDs7QUFFRCxTQUFTRSxPQUFULENBQWlCQyxLQUFqQixFQUF3QlAsUUFBeEIsRUFBa0NDLElBQWxDLEVBQXdDQyxPQUF4QyxFQUFpRDtBQUMvQyxNQUFNTSxjQUFjRCxNQUFNRSxNQUExQjs7QUFFQSxNQUFJTixRQUFRLENBQUMsQ0FBYjs7QUFFQSxXQUFTQyxJQUFULEdBQWdCO0FBQ2REOztBQUVBLFFBQU1FLFlBQWFGLFVBQVVLLFdBQTdCOztBQUVBLFFBQUlILFNBQUosRUFBZTtBQUNiSjtBQUNELEtBRkQsTUFFTztBQUNMLFVBQU1TLFVBQVVILE1BQU1KLEtBQU4sQ0FBaEI7O0FBRUFILGVBQVNVLE9BQVQsRUFBa0JOLElBQWxCLEVBQXdCSCxJQUF4QixFQUE4QkMsT0FBOUIsRUFBdUNDLEtBQXZDO0FBQ0Q7QUFDRjs7QUFFREM7QUFDRDs7QUFFRCxTQUFTTyxRQUFULENBQWtCQyxTQUFsQixFQUE2QlgsSUFBN0IsRUFBbUNDLE9BQW5DLEVBQTRDO0FBQzFDLE1BQU1XLGtCQUFrQkQsVUFBVUgsTUFBbEM7O0FBRUEsTUFBSU4sUUFBUSxDQUFDLENBQWI7O0FBRUEsV0FBU0MsSUFBVCxHQUFnQjtBQUNkRDs7QUFFQSxRQUFNRSxZQUFhRixVQUFVVSxlQUE3Qjs7QUFFQSxRQUFJUixTQUFKLEVBQWU7QUFDYko7QUFDRCxLQUZELE1BRU87QUFDTCxVQUFNRCxXQUFXWSxVQUFVVCxLQUFWLENBQWpCOztBQUVBSCxlQUFTSSxJQUFULEVBQWVILElBQWYsRUFBcUJDLE9BQXJCLEVBQThCQyxLQUE5QjtBQUNEO0FBQ0Y7O0FBRURDO0FBQ0Q7O0FBRURVLE9BQU9DLE9BQVAsR0FBaUI7QUFDZmhCLFVBQVFBLE1BRE87QUFFZk8sV0FBU0EsT0FGTTtBQUdmSyxZQUFVQTtBQUhLLENBQWpCIiwiZmlsZSI6ImFzeW5jLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuZnVuY3Rpb24gd2hpbHN0KGNhbGxiYWNrLCBkb25lLCBjb250ZXh0KSB7XHJcbiAgbGV0IGluZGV4ID0gLTE7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBpbmRleCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IGNhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9yRWFjaChhcnJheSwgY2FsbGJhY2ssIGRvbmUsIGNvbnRleHQpIHtcclxuICBjb25zdCBhcnJheUxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuXHJcbiAgbGV0IGluZGV4ID0gLTE7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBpbmRleCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChpbmRleCA9PT0gYXJyYXlMZW5ndGgpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IGFycmF5W2luZGV4XTtcclxuXHJcbiAgICAgIGNhbGxiYWNrKGVsZW1lbnQsIG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VxdWVuY2UoY2FsbGJhY2tzLCBkb25lLCBjb250ZXh0KSB7XHJcbiAgY29uc3QgY2FsbGJhY2tzTGVuZ3RoID0gY2FsbGJhY2tzLmxlbmd0aDtcclxuXHJcbiAgbGV0IGluZGV4ID0gLTE7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBpbmRleCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChpbmRleCA9PT0gY2FsbGJhY2tzTGVuZ3RoKTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gY2FsbGJhY2tzW2luZGV4XTtcclxuXHJcbiAgICAgIGNhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHQoKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgd2hpbHN0OiB3aGlsc3QsXHJcbiAgZm9yRWFjaDogZm9yRWFjaCxcclxuICBzZXF1ZW5jZTogc2VxdWVuY2VcclxufTtcclxuIl19