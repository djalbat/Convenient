"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.whilst = whilst;
exports.forEach = forEach;
exports.sequence = sequence;
exports.eventually = eventually;
exports.repeatedly = repeatedly;
exports.forwardsForEach = forwardsForEach;
exports.backwardsForEach = backwardsForEach;
exports["default"] = void 0;

function whilst(callback, done, context) {
  var count = -1;

  function next() {
    count++;
    var index = count,
        ///
    terminate = callback(next, done, context, index);

    if (terminate) {
      done && done();
    }
  }

  next();
}

function forEach(array, callback, done, context) {
  var length = array.length; ///

  var count = -1;

  function next() {
    count++;
    var terminate = count === length;

    if (terminate) {
      done && done();
    } else {
      var index = count,
          ///
      element = array[index];
      callback(element, next, done, context, index);
    }
  }

  next();
}

function sequence(callbacks, done, context) {
  var length = callbacks.length; ///

  var count = -1;

  function next() {
    count++;
    var terminate = count === length;

    if (terminate) {
      done && done();
    } else {
      var index = count,
          ///
      callback = callbacks[index];
      callback(next, done, context, index);
    }
  }

  next();
}

function eventually(callbacks, done, context) {
  var length = callbacks.length; ///

  var count = 0;

  function next() {
    count++;
    var terminate = count === length;

    if (terminate) {
      done && done();
    }
  }

  callbacks.forEach(function (callback, index) {
    callback(next, done, context, index);
  });
}

function repeatedly(callback, length, done, context) {
  var count = 0;

  function next() {
    count++;
    var terminate = count === length;

    if (terminate) {
      done && done();
    }
  }

  for (var index = 0; index < length; index++) {
    callback(next, done, context, index);
  }
}

function forwardsForEach(array, callback, done, context) {
  var length = array.length; ///

  var count = -1;

  function next() {
    count++;
    var terminate = count === length;

    if (terminate) {
      done && done();
    } else {
      var index = count,
          ///
      element = array[index];
      callback(element, next, done, context, index);
    }
  }

  next();
}

function backwardsForEach(array, callback, done, context) {
  var length = array.length; ///

  var count = length;

  function next() {
    count--;
    var terminate = count === -1;

    if (terminate) {
      done && done();
    } else {
      var index = count,
          ///
      element = array[index];
      callback(element, next, done, context, index);
    }
  }

  next();
}

var _default = {
  whilst: whilst,
  forEach: forEach,
  sequence: sequence,
  eventually: eventually,
  repeatedly: repeatedly,
  forwardsForEach: forwardsForEach,
  backwardsForEach: backwardsForEach
};
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaHJvbm91cy5qcyJdLCJuYW1lcyI6WyJ3aGlsc3QiLCJjYWxsYmFjayIsImRvbmUiLCJjb250ZXh0IiwiY291bnQiLCJuZXh0IiwiaW5kZXgiLCJ0ZXJtaW5hdGUiLCJmb3JFYWNoIiwiYXJyYXkiLCJsZW5ndGgiLCJlbGVtZW50Iiwic2VxdWVuY2UiLCJjYWxsYmFja3MiLCJldmVudHVhbGx5IiwicmVwZWF0ZWRseSIsImZvcndhcmRzRm9yRWFjaCIsImJhY2t3YXJkc0ZvckVhY2giXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztBQUVPLFNBQVNBLE1BQVQsQ0FBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixFQUFnQ0MsT0FBaEMsRUFBeUM7QUFDOUMsTUFBSUMsS0FBSyxHQUFHLENBQUMsQ0FBYjs7QUFFQSxXQUFTQyxJQUFULEdBQWdCO0FBQ2RELElBQUFBLEtBQUs7QUFFTCxRQUFNRSxLQUFLLEdBQUdGLEtBQWQ7QUFBQSxRQUFzQjtBQUNoQkcsSUFBQUEsU0FBUyxHQUFHTixRQUFRLENBQUNJLElBQUQsRUFBT0gsSUFBUCxFQUFhQyxPQUFiLEVBQXNCRyxLQUF0QixDQUQxQjs7QUFHQSxRQUFJQyxTQUFKLEVBQWU7QUFDYkwsTUFBQUEsSUFBSSxJQUFJQSxJQUFJLEVBQVo7QUFDRDtBQUNGOztBQUVERyxFQUFBQSxJQUFJO0FBQ0w7O0FBRU0sU0FBU0csT0FBVCxDQUFpQkMsS0FBakIsRUFBd0JSLFFBQXhCLEVBQWtDQyxJQUFsQyxFQUF3Q0MsT0FBeEMsRUFBaUQ7QUFDdEQsTUFBTU8sTUFBTSxHQUFHRCxLQUFLLENBQUNDLE1BQXJCLENBRHNELENBQ3hCOztBQUU5QixNQUFJTixLQUFLLEdBQUcsQ0FBQyxDQUFiOztBQUVBLFdBQVNDLElBQVQsR0FBZ0I7QUFDZEQsSUFBQUEsS0FBSztBQUVMLFFBQU1HLFNBQVMsR0FBSUgsS0FBSyxLQUFLTSxNQUE3Qjs7QUFFQSxRQUFJSCxTQUFKLEVBQWU7QUFDYkwsTUFBQUEsSUFBSSxJQUFJ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RUFBVkEsVUFMYTtBQU1iQyxFQUFBQSxlQUFlLEVBQWZBLGVBTmE7QUFPYkMsRUFBQUEsZ0JBQWdCLEVBQWhCQTtBQVBhLEMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aGlsc3QoY2FsbGJhY2ssIGRvbmUsIGNvbnRleHQpIHtcclxuICBsZXQgY291bnQgPSAtMTtcclxuXHJcbiAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgIGNvdW50Kys7XHJcblxyXG4gICAgY29uc3QgaW5kZXggPSBjb3VudCwgIC8vL1xyXG4gICAgICAgICAgdGVybWluYXRlID0gY2FsbGJhY2sobmV4dCwgZG9uZSwgY29udGV4dCwgaW5kZXgpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoKGFycmF5LCBjYWxsYmFjaywgZG9uZSwgY29udGV4dCkge1xyXG4gIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgIC8vL1xyXG5cclxuICBsZXQgY291bnQgPSAtMTtcclxuXHJcbiAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgIGNvdW50Kys7XHJcblxyXG4gICAgY29uc3QgdGVybWluYXRlID0gKGNvdW50ID09PSBsZW5ndGgpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbmRleCA9IGNvdW50LCAgLy8vXHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBhcnJheVtpbmRleF07XHJcblxyXG4gICAgICBjYWxsYmFjayhlbGVtZW50LCBuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXF1ZW5jZShjYWxsYmFja3MsIGRvbmUsIGNvbnRleHQpIHtcclxuICBjb25zdCBsZW5ndGggPSBjYWxsYmFja3MubGVuZ3RoOyAgLy8vXHJcblxyXG4gIGxldCBjb3VudCA9IC0xO1xyXG5cclxuICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgY291bnQrKztcclxuXHJcbiAgICBjb25zdCB0ZXJtaW5hdGUgPSAoY291bnQgPT09IGxlbmd0aCk7XHJcblxyXG4gICAgaWYgKHRlcm1pbmF0ZSkge1xyXG4gICAgICBkb25lICYmIGRvbmUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gY291bnQsICAvLy9cclxuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaW5kZXhdO1xyXG5cclxuICAgICAgY2FsbGJhY2sobmV4dCwgZG9uZSwgY29udGV4dCwgaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmV4dCgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXZlbnR1YWxseShjYWxsYmFja3MsIGRvbmUsIGNvbnRleHQpIHtcclxuICBjb25zdCBsZW5ndGggPSBjYWxsYmFja3MubGVuZ3RoOyAgLy8vXHJcblxyXG4gIGxldCBjb3VudCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBjb3VudCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChjb3VudCA9PT0gbGVuZ3RoKTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUgJiYgZG9uZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrLCBpbmRleCkgPT4ge1xyXG4gICAgY2FsbGJhY2sobmV4dCwgZG9uZSwgY29udGV4dCwgaW5kZXgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVwZWF0ZWRseShjYWxsYmFjaywgbGVuZ3RoLCBkb25lLCBjb250ZXh0KSB7XHJcbiAgbGV0IGNvdW50ID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgIGNvdW50Kys7XHJcblxyXG4gICAgY29uc3QgdGVybWluYXRlID0gKGNvdW50ID09PSBsZW5ndGgpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICBjYWxsYmFjayhuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZm9yd2FyZHNGb3JFYWNoKGFycmF5LCBjYWxsYmFjaywgZG9uZSwgY29udGV4dCkge1xyXG4gIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgIC8vL1xyXG5cclxuICBsZXQgY291bnQgPSAtMTtcclxuXHJcbiAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgIGNvdW50Kys7XHJcblxyXG4gICAgY29uc3QgdGVybWluYXRlID0gKGNvdW50ID09PSBsZW5ndGgpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbmRleCA9IGNvdW50LCAgLy8vXHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBhcnJheVtpbmRleF07XHJcblxyXG4gICAgICBjYWxsYmFjayhlbGVtZW50LCBuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiYWNrd2FyZHNGb3JFYWNoKGFycmF5LCBjYWxsYmFjaywgZG9uZSwgY29udGV4dCkge1xyXG4gIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgIC8vL1xyXG5cclxuICBsZXQgY291bnQgPSBsZW5ndGg7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBjb3VudC0tO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChjb3VudCA9PT0gLTEpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSAmJiBkb25lKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbmRleCA9IGNvdW50LCAgLy8vXHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBhcnJheVtpbmRleF07XHJcblxyXG4gICAgICBjYWxsYmFjayhlbGVtZW50LCBuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICB3aGlsc3QsXHJcbiAgZm9yRWFjaCxcclxuICBzZXF1ZW5jZSxcclxuICBldmVudHVhbGx5LFxyXG4gIHJlcGVhdGVkbHksXHJcbiAgZm9yd2FyZHNGb3JFYWNoLFxyXG4gIGJhY2t3YXJkc0ZvckVhY2hcclxufTtcclxuIl19