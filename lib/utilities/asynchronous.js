'use strict';

function whilst(callback, done, context) {
  var count = -1;

  function next() {
    count++;

    var index = count,
        ///
    terminate = callback(next, done, context, index);

    if (terminate) {
      done();
    }
  }

  next();
}

function forEach(array, callback, done, context) {
  var length = array.length; ///

  var count = -1;

  function next() {
    count++;

    var terminate = count === length;

    if (terminate) {
      done();
    } else {
      var index = count,
          ///
      element = array[index];

      callback(element, next, done, context, index);
    }
  }

  next();
}

function sequence(callbacks, done, context) {
  var length = callbacks.length; ///

  var count = -1;

  function next() {
    count++;

    var terminate = count === length;

    if (terminate) {
      done();
    } else {
      var index = count,
          ///
      callback = callbacks[index];

      callback(next, done, context, index);
    }
  }

  next();
}

function eventually(callbacks, done, context) {
  var length = callbacks.length; ///

  var count = 0;

  function next() {
    count++;

    var terminate = count === length;

    if (terminate) {
      done();
    }
  }

  callbacks.forEach(function (callback, index) {
    callback(next, done, context, index);
  });
}

function repeatedly(callback, length, done, context) {
  var count = 0;

  function next() {
    count++;

    var terminate = count === length;

    if (terminate) {
      done();
    }
  }

  for (var index = 0; index < length; index++) {
    callback(next, done, context, index);
  }
}

function forwardsForEach(array, callback, done, context) {
  var length = array.length; ///

  var count = -1;

  function next() {
    count++;

    var terminate = count === length;

    if (terminate) {
      done();
    } else {
      var index = count,
          ///
      element = array[index];

      callback(element, next, done, context, index);
    }
  }

  next();
}

function backwardsForEach(array, callback, done, context) {
  var length = array.length; ///

  var count = length;

  function next() {
    count--;

    var terminate = count === -1;

    if (terminate) {
      done();
    } else {
      var index = count,
          ///
      element = array[index];

      callback(element, next, done, context, index);
    }
  }

  next();
}

module.exports = {
  whilst: whilst,
  forEach: forEach,
  sequence: sequence,
  eventually: eventually,
  repeatedly: repeatedly,
  forwardsForEach: forwardsForEach,
  backwardsForEach: backwardsForEach
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvYXN5bmNocm9ub3VzLmpzIl0sIm5hbWVzIjpbIndoaWxzdCIsImNhbGxiYWNrIiwiZG9uZSIsImNvbnRleHQiLCJjb3VudCIsIm5leHQiLCJpbmRleCIsInRlcm1pbmF0ZSIsImZvckVhY2giLCJhcnJheSIsImxlbmd0aCIsImVsZW1lbnQiLCJzZXF1ZW5jZSIsImNhbGxiYWNrcyIsImV2ZW50dWFsbHkiLCJyZXBlYXRlZGx5IiwiZm9yd2FyZHNGb3JFYWNoIiwiYmFja3dhcmRzRm9yRWFjaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLFNBQVNBLE1BQVQsQ0FBZ0JDLFFBQWhCLEVBQTBCQyxJQUExQixFQUFnQ0MsT0FBaEMsRUFBeUM7QUFDdkMsTUFBSUMsUUFBUSxDQUFDLENBQWI7O0FBRUEsV0FBU0MsSUFBVCxHQUFnQjtBQUNkRDs7QUFFQSxRQUFNRSxRQUFRRixLQUFkO0FBQUEsUUFBc0I7QUFDaEJHLGdCQUFZTixTQUFTSSxJQUFULEVBQWVILElBQWYsRUFBcUJDLE9BQXJCLEVBQThCRyxLQUE5QixDQURsQjs7QUFHQSxRQUFJQyxTQUFKLEVBQWU7QUFDYkw7QUFDRDtBQUNGOztBQUVERztBQUNEOztBQUVELFNBQVNHLE9BQVQsQ0FBaUJDLEtBQWpCLEVBQXdCUixRQUF4QixFQUFrQ0MsSUFBbEMsRUFBd0NDLE9BQXhDLEVBQWlEO0FBQy9DLE1BQU1PLFNBQVNELE1BQU1DLE1BQXJCLENBRCtDLENBQ2pCOztBQUU5QixNQUFJTixRQUFRLENBQUMsQ0FBYjs7QUFFQSxXQUFTQyxJQUFULEdBQWdCO0FBQ2REOztBQUVBLFFBQU1HLFlBQWFILFVBQVVNLE1BQTdCOztBQUVBLFFBQUlILFNBQUosRUFBZTtBQUNiTDtBQUNELEtBRkQsTUFFTztBQUNMLFVBQU1JLFFBQVFGLEtBQWQ7QUFBQSxVQUFzQjtBQUNoQk8sZ0JBQVVGLE1BQU1ILEtBQU4sQ0FEaEI7O0FBR0FMLGVBQVNVLE9B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LFVBQXNCO0FBQ2hCTyxnQkFBVUYsTUFBTUgsS0FBTixDQURoQjs7QUFHQUwsZUFBU1UsT0FBVCxFQUFrQk4sSUFBbEIsRUFBd0JILElBQXhCLEVBQThCQyxPQUE5QixFQUF1Q0csS0FBdkM7QUFDRDtBQUNGOztBQUVERDtBQUNEOztBQUVEYSxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZuQixnQkFEZTtBQUVmUSxrQkFGZTtBQUdmSSxvQkFIZTtBQUlmRSx3QkFKZTtBQUtmQyx3QkFMZTtBQU1mQyxrQ0FOZTtBQU9mQztBQVBlLENBQWpCIiwiZmlsZSI6ImFzeW5jaHJvbm91cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbmZ1bmN0aW9uIHdoaWxzdChjYWxsYmFjaywgZG9uZSwgY29udGV4dCkge1xyXG4gIGxldCBjb3VudCA9IC0xO1xyXG5cclxuICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgY291bnQrKztcclxuXHJcbiAgICBjb25zdCBpbmRleCA9IGNvdW50LCAgLy8vXHJcbiAgICAgICAgICB0ZXJtaW5hdGUgPSBjYWxsYmFjayhuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcblxyXG4gICAgaWYgKHRlcm1pbmF0ZSkge1xyXG4gICAgICBkb25lKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvckVhY2goYXJyYXksIGNhbGxiYWNrLCBkb25lLCBjb250ZXh0KSB7XHJcbiAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyAgLy8vXHJcblxyXG4gIGxldCBjb3VudCA9IC0xO1xyXG5cclxuICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgY291bnQrKztcclxuXHJcbiAgICBjb25zdCB0ZXJtaW5hdGUgPSAoY291bnQgPT09IGxlbmd0aCk7XHJcblxyXG4gICAgaWYgKHRlcm1pbmF0ZSkge1xyXG4gICAgICBkb25lKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbmRleCA9IGNvdW50LCAgLy8vXHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBhcnJheVtpbmRleF07XHJcblxyXG4gICAgICBjYWxsYmFjayhlbGVtZW50LCBuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZXh0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlcXVlbmNlKGNhbGxiYWNrcywgZG9uZSwgY29udGV4dCkge1xyXG4gIGNvbnN0IGxlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7ICAvLy9cclxuXHJcbiAgbGV0IGNvdW50ID0gLTE7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBjb3VudCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChjb3VudCA9PT0gbGVuZ3RoKTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gY291bnQsICAvLy9cclxuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaW5kZXhdO1xyXG5cclxuICAgICAgY2FsbGJhY2sobmV4dCwgZG9uZSwgY29udGV4dCwgaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmV4dCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBldmVudHVhbGx5KGNhbGxiYWNrcywgZG9uZSwgY29udGV4dCkge1xyXG4gIGNvbnN0IGxlbmd0aCA9IGNhbGxiYWNrcy5sZW5ndGg7ICAvLy9cclxuXHJcbiAgbGV0IGNvdW50ID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgIGNvdW50Kys7XHJcblxyXG4gICAgY29uc3QgdGVybWluYXRlID0gKGNvdW50ID09PSBsZW5ndGgpO1xyXG5cclxuICAgIGlmICh0ZXJtaW5hdGUpIHtcclxuICAgICAgZG9uZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2ssIGluZGV4KSB7XHJcbiAgICBjYWxsYmFjayhuZXh0LCBkb25lLCBjb250ZXh0LCBpbmRleCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlcGVhdGVkbHkoY2FsbGJhY2ssIGxlbmd0aCwgZG9uZSwgY29udGV4dCkge1xyXG4gIGxldCBjb3VudCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBjb3VudCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChjb3VudCA9PT0gbGVuZ3RoKTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcclxuICAgIGNhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcndhcmRzRm9yRWFjaChhcnJheSwgY2FsbGJhY2ssIGRvbmUsIGNvbnRleHQpIHtcclxuICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7ICAvLy9cclxuXHJcbiAgbGV0IGNvdW50ID0gLTE7XHJcblxyXG4gIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICBjb3VudCsrO1xyXG5cclxuICAgIGNvbnN0IHRlcm1pbmF0ZSA9IChjb3VudCA9PT0gbGVuZ3RoKTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gY291bnQsICAvLy9cclxuICAgICAgICAgICAgZWxlbWVudCA9IGFycmF5W2luZGV4XTtcclxuXHJcbiAgICAgIGNhbGxiYWNrKGVsZW1lbnQsIG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmFja3dhcmRzRm9yRWFjaChhcnJheSwgY2FsbGJhY2ssIGRvbmUsIGNvbnRleHQpIHtcclxuICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7ICAvLy9cclxuXHJcbiAgbGV0IGNvdW50ID0gbGVuZ3RoO1xyXG5cclxuICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgY291bnQtLTtcclxuXHJcbiAgICBjb25zdCB0ZXJtaW5hdGUgPSAoY291bnQgPT09IC0xKTtcclxuXHJcbiAgICBpZiAodGVybWluYXRlKSB7XHJcbiAgICAgIGRvbmUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gY291bnQsICAvLy9cclxuICAgICAgICAgICAgZWxlbWVudCA9IGFycmF5W2luZGV4XTtcclxuXHJcbiAgICAgIGNhbGxiYWNrKGVsZW1lbnQsIG5leHQsIGRvbmUsIGNvbnRleHQsIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5leHQoKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgd2hpbHN0LFxyXG4gIGZvckVhY2gsXHJcbiAgc2VxdWVuY2UsXHJcbiAgZXZlbnR1YWxseSxcclxuICByZXBlYXRlZGx5LFxyXG4gIGZvcndhcmRzRm9yRWFjaCxcclxuICBiYWNrd2FyZHNGb3JFYWNoXHJcbn07XHJcbiJdfQ==