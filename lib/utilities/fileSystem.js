'use strict';

var fs = require('fs');

var pathUtilities = require('../utilities/path');

var pathWithoutBottommostNameFromPath = pathUtilities.pathWithoutBottommostNameFromPath;


function checkEntryExists(entryPath) {
  var entryExists = fs.existsSync(entryPath);

  return entryExists;
}

function checkFileExists(filePath) {
  var fileExists = false;

  var entryPath = filePath,
      ///
  entryExists = checkEntryExists(entryPath);

  if (entryExists) {
    var entryFile = isEntryFile(entryPath);

    if (entryFile) {
      fileExists = true;
    }
  }

  return fileExists;
}

function checkDirectoryExists(directoryPath) {
  var directoryExists = false;

  var entryPath = directoryPath,
      ///
  entryExists = checkEntryExists(entryPath);

  if (entryExists) {
    var entryDirectory = isEntryDirectory(entryPath);

    if (entryDirectory) {
      directoryExists = true;
    }
  }

  return directoryExists;
}

function isEntryFile(entryPath) {
  var stat = fs.statSync(entryPath),
      entryDirectory = stat.isDirectory(),
      entryFile = !entryDirectory;

  return entryFile;
}

function isEntryDirectory(entryPath) {
  var stat = fs.statSync(entryPath),
      entryDirectory = stat.isDirectory();

  return entryDirectory;
}

function isDirectoryEmpty(directoryPath) {
  var subEntryNames = readDirectory(directoryPath),
      subEntryNamesLength = subEntryNames.length,
      directoryEmpty = subEntryNamesLength === 0;

  return directoryEmpty;
}

function readDirectory(directoryPath) {
  var subEntryNames = fs.readdirSync(directoryPath);

  return subEntryNames;
}

function readFile(filePath) {
  var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'utf8';

  var options = {
    encoding: encoding
  },
      content = fs.readFileSync(filePath, options);

  return content;
}

function writeFile(filePath, content) {
  fs.writeFileSync(filePath, content);
}

function appendToFile(filePath, content) {
  fs.appendFileSync(filePath, content);
}

function createDirectory(directoryPath) {
  var directoryPathWithoutBottommostName = pathWithoutBottommostNameFromPath(directoryPath);

  if (directoryPathWithoutBottommostName !== '.' && directoryPathWithoutBottommostName !== null) {
    var parentDirectoryPath = directoryPathWithoutBottommostName,
        ///
    parentDirectoryExists = checkDirectoryExists(parentDirectoryPath);

    if (!parentDirectoryExists) {
      createDirectory(parentDirectoryPath);
    }
  }

  fs.mkdirSync(directoryPath);
}

function renameFile(oldFilePath, newFilePath) {
  fs.renameSync(oldFilePath, newFilePath);
}

function getStats(filePath) {
  return fs.statSync(filePath);
}

module.exports = {
  checkEntryExists: checkEntryExists,
  checkFileExists: checkFileExists,
  checkDirectoryExists: checkDirectoryExists,
  isEntryFile: isEntryFile,
  isEntryDirectory: isEntryDirectory,
  isDirectoryEmpty: isDirectoryEmpty,
  readDirectory: readDirectory,
  readFile: readFile,
  writeFile: writeFile,
  appendToFile: appendToFile,
  createDirectory: createDirectory,
  renameFile: renameFile,
  getStats: getStats
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvZmlsZVN5c3RlbS5qcyJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoVXRpbGl0aWVzIiwicGF0aFdpdGhvdXRCb3R0b21tb3N0TmFtZUZyb21QYXRoIiwiY2hlY2tFbnRyeUV4aXN0cyIsImVudHJ5UGF0aCIsImVudHJ5RXhpc3RzIiwiZXhpc3RzU3luYyIsImNoZWNrRmlsZUV4aXN0cyIsImZpbGVQYXRoIiwiZmlsZUV4aXN0cyIsImVudHJ5RmlsZSIsImlzRW50cnlGaWxlIiwiY2hlY2tEaXJlY3RvcnlFeGlzdHMiLCJkaXJlY3RvcnlQYXRoIiwiZGlyZWN0b3J5RXhpc3RzIiwiZW50cnlEaXJlY3RvcnkiLCJpc0VudHJ5RGlyZWN0b3J5Iiwic3RhdCIsInN0YXRTeW5jIiwiaXNEaXJlY3RvcnkiLCJpc0RpcmVjdG9yeUVtcHR5Iiwic3ViRW50cnlOYW1lcyIsInJlYWREaXJlY3RvcnkiLCJzdWJFbnRyeU5hbWVzTGVuZ3RoIiwibGVuZ3RoIiwiZGlyZWN0b3J5RW1wdHkiLCJyZWFkZGlyU3luYyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJvcHRpb25zIiwiY29udGVudCIsInJlYWRGaWxlU3luYyIsIndyaXRlRmlsZSIsIndyaXRlRmlsZVN5bmMiLCJhcHBlbmRUb0ZpbGUiLCJhcHBlbmRGaWxlU3luYyIsImNyZWF0ZURpcmVjdG9yeSIsImRpcmVjdG9yeVBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWUiLCJwYXJlbnREaXJlY3RvcnlQYXRoIiwicGFyZW50RGlyZWN0b3J5RXhpc3RzIiwibWtkaXJTeW5jIiwicmVuYW1lRmlsZSIsIm9sZEZpbGVQYXRoIiwibmV3RmlsZVBhdGgiLCJyZW5hbWVTeW5jIiwiZ2V0U3RhdHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxLQUFLQyxRQUFRLElBQVIsQ0FBWDs7QUFFQSxJQUFNQyxnQkFBZ0JELFFBQVEsbUJBQVIsQ0FB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QUFpRTtBQUMzREUsNEJBQXdCM0IscUJBQXFCMEIsbUJBQXJCLENBRDlCOztBQUdBLFFBQUksQ0FBQ0MscUJBQUwsRUFBNEI7QUFDMUJILHNCQUFnQkUsbUJBQWhCO0FBQ0Q7QUFDRjs7QUFFRHZDLEtBQUd5QyxTQUFILENBQWEzQixhQUFiO0FBQ0Q7O0FBRUQsU0FBUzRCLFVBQVQsQ0FBb0JDLFdBQXBCLEVBQWlDQyxXQUFqQyxFQUE4QztBQUM1QzVDLEtBQUc2QyxVQUFILENBQWNGLFdBQWQsRUFBMkJDLFdBQTNCO0FBQ0Q7O0FBRUQsU0FBU0UsUUFBVCxDQUFrQnJDLFFBQWxCLEVBQTRCO0FBQzFCLFNBQU9ULEdBQUdtQixRQUFILENBQVlWLFFBQVosQ0FBUDtBQUNEOztBQUVEc0MsT0FBT0MsT0FBUCxHQUFpQjtBQUNmNUMsb0NBRGU7QUFFZkksa0NBRmU7QUFHZkssNENBSGU7QUFJZkQsMEJBSmU7QUFLZkssb0NBTGU7QUFNZkksb0NBTmU7QUFPZkUsOEJBUGU7QUFRZkssb0JBUmU7QUFTZkssc0JBVGU7QUFVZkUsNEJBVmU7QUFXZkUsa0NBWGU7QUFZZkssd0JBWmU7QUFhZkk7QUFiZSxDQUFqQiIsImZpbGUiOiJmaWxlU3lzdGVtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbmNvbnN0IHBhdGhVdGlsaXRpZXMgPSByZXF1aXJlKCcuLi91dGlsaXRpZXMvcGF0aCcpO1xuXG5jb25zdCB7IHBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWVGcm9tUGF0aCB9ID0gcGF0aFV0aWxpdGllcztcblxuZnVuY3Rpb24gY2hlY2tFbnRyeUV4aXN0cyhlbnRyeVBhdGgpIHtcbiAgY29uc3QgZW50cnlFeGlzdHMgPSBmcy5leGlzdHNTeW5jKGVudHJ5UGF0aCk7XG5cbiAgcmV0dXJuIGVudHJ5RXhpc3RzO1xufVxuXG5mdW5jdGlvbiBjaGVja0ZpbGVFeGlzdHMoZmlsZVBhdGgpIHtcbiAgbGV0IGZpbGVFeGlzdHMgPSBmYWxzZTtcbiAgXG4gIGNvbnN0IGVudHJ5UGF0aCA9IGZpbGVQYXRoLCAvLy9cbiAgICAgICAgZW50cnlFeGlzdHMgPSBjaGVja0VudHJ5RXhpc3RzKGVudHJ5UGF0aCk7XG4gIFxuICBpZiAoZW50cnlFeGlzdHMpIHtcbiAgICBjb25zdCBlbnRyeUZpbGUgPSBpc0VudHJ5RmlsZShlbnRyeVBhdGgpO1xuICAgIFxuICAgIGlmIChlbnRyeUZpbGUpIHtcbiAgICAgIGZpbGVFeGlzdHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGZpbGVFeGlzdHM7XG59XG5cbmZ1bmN0aW9uIGNoZWNrRGlyZWN0b3J5RXhpc3RzKGRpcmVjdG9yeVBhdGgpIHtcbiAgbGV0IGRpcmVjdG9yeUV4aXN0cyA9IGZhbHNlO1xuXG4gIGNvbnN0IGVudHJ5UGF0aCA9IGRpcmVjdG9yeVBhdGgsIC8vL1xuICAgICAgICBlbnRyeUV4aXN0cyA9IGNoZWNrRW50cnlFeGlzdHMoZW50cnlQYXRoKTtcblxuICBpZiAoZW50cnlFeGlzdHMpIHtcbiAgICBjb25zdCBlbnRyeURpcmVjdG9yeSA9IGlzRW50cnlEaXJlY3RvcnkoZW50cnlQYXRoKTtcblxuICAgIGlmIChlbnRyeURpcmVjdG9yeSkge1xuICAgICAgZGlyZWN0b3J5RXhpc3RzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGlyZWN0b3J5RXhpc3RzO1xufVxuXG5mdW5jdGlvbiBpc0VudHJ5RmlsZShlbnRyeVBhdGgpIHtcbiAgY29uc3Qgc3RhdCA9IGZzLnN0YXRTeW5jKGVudHJ5UGF0aCksXG4gICAgICAgIGVudHJ5RGlyZWN0b3J5ID0gc3RhdC5pc0RpcmVjdG9yeSgpLFxuICAgICAgICBlbnRyeUZpbGUgPSAhZW50cnlEaXJlY3Rvcnk7XG5cbiAgcmV0dXJuIGVudHJ5RmlsZTtcbn1cblxuZnVuY3Rpb24gaXNFbnRyeURpcmVjdG9yeShlbnRyeVBhdGgpIHtcbiAgY29uc3Qgc3RhdCA9IGZzLnN0YXRTeW5jKGVudHJ5UGF0aCksXG4gICAgICAgIGVudHJ5RGlyZWN0b3J5ID0gc3RhdC5pc0RpcmVjdG9yeSgpO1xuXG4gIHJldHVybiBlbnRyeURpcmVjdG9yeTtcbn1cblxuZnVuY3Rpb24gaXNEaXJlY3RvcnlFbXB0eShkaXJlY3RvcnlQYXRoKSB7XG4gIGNvbnN0IHN1YkVudHJ5TmFtZXMgPSByZWFkRGlyZWN0b3J5KGRpcmVjdG9yeVBhdGgpLFxuICAgICAgICBzdWJFbnRyeU5hbWVzTGVuZ3RoID0gc3ViRW50cnlOYW1lcy5sZW5ndGgsXG4gICAgICAgIGRpcmVjdG9yeUVtcHR5ID0gKHN1YkVudHJ5TmFtZXNMZW5ndGggPT09IDApO1xuXG4gIHJldHVybiBkaXJlY3RvcnlFbXB0eTtcbn1cblxuZnVuY3Rpb24gcmVhZERpcmVjdG9yeShkaXJlY3RvcnlQYXRoKSB7XG4gIGNvbnN0IHN1YkVudHJ5TmFtZXMgPSBmcy5yZWFkZGlyU3luYyhkaXJlY3RvcnlQYXRoKTtcblxuICByZXR1cm4gc3ViRW50cnlOYW1lcztcbn1cblxuZnVuY3Rpb24gcmVhZEZpbGUoZmlsZVBhdGgsIGVuY29kaW5nID0gJ3V0ZjgnKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgZW5jb2RpbmdcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmZ1bmN0aW9uIHdyaXRlRmlsZShmaWxlUGF0aCwgY29udGVudCkge1xuICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBjb250ZW50KTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kVG9GaWxlKGZpbGVQYXRoLCBjb250ZW50KSB7XG4gIGZzLmFwcGVuZEZpbGVTeW5jKGZpbGVQYXRoLCBjb250ZW50KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGlyZWN0b3J5KGRpcmVjdG9yeVBhdGgpIHtcbiAgY29uc3QgZGlyZWN0b3J5UGF0aFdpdGhvdXRCb3R0b21tb3N0TmFtZSA9IHBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWVGcm9tUGF0aChkaXJlY3RvcnlQYXRoKTtcblxuICBpZiAoKGRpcmVjdG9yeVBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWUgIT09ICcuJykgJiYgKGRpcmVjdG9yeVBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWUgIT09IG51bGwpKSB7XG4gICAgY29uc3QgcGFyZW50RGlyZWN0b3J5UGF0aCA9IGRpcmVjdG9yeVBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWUsICAvLy9cbiAgICAgICAgICBwYXJlbnREaXJlY3RvcnlFeGlzdHMgPSBjaGVja0RpcmVjdG9yeUV4aXN0cyhwYXJlbnREaXJlY3RvcnlQYXRoKTtcblxuICAgIGlmICghcGFyZW50RGlyZWN0b3J5RXhpc3RzKSB7XG4gICAgICBjcmVhdGVEaXJlY3RvcnkocGFyZW50RGlyZWN0b3J5UGF0aCk7XG4gICAgfVxuICB9XG5cbiAgZnMubWtkaXJTeW5jKGRpcmVjdG9yeVBhdGgpO1xufVxuXG5mdW5jdGlvbiByZW5hbWVGaWxlKG9sZEZpbGVQYXRoLCBuZXdGaWxlUGF0aCkge1xuICBmcy5yZW5hbWVTeW5jKG9sZEZpbGVQYXRoLCBuZXdGaWxlUGF0aCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0YXRzKGZpbGVQYXRoKSB7XG4gIHJldHVybiBmcy5zdGF0U3luYyhmaWxlUGF0aCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjaGVja0VudHJ5RXhpc3RzLFxuICBjaGVja0ZpbGVFeGlzdHMsXG4gIGNoZWNrRGlyZWN0b3J5RXhpc3RzLFxuICBpc0VudHJ5RmlsZSxcbiAgaXNFbnRyeURpcmVjdG9yeSxcbiAgaXNEaXJlY3RvcnlFbXB0eSxcbiAgcmVhZERpcmVjdG9yeSxcbiAgcmVhZEZpbGUsXG4gIHdyaXRlRmlsZSxcbiAgYXBwZW5kVG9GaWxlLFxuICBjcmVhdGVEaXJlY3RvcnksXG4gIHJlbmFtZUZpbGUsXG4gIGdldFN0YXRzXG59O1xuIl19